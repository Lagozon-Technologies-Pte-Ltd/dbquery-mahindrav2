{
   
"PARTS_RUNNING_REPAIR": (
    "1. Use sv_ro_bill_hdr_sk to join MH_RO_HDR_DETAILS and MH_RO_PARTS.\n"
    "2. Use MODEL_CD to join MH_MODEL_MASTER and MH_RO_HDR_DETAILS to get MODEL_CO, MODL_GROP_DESC, and FAMILY_DESC.\n"
    "3. USE parnt_grop, loctn_cd AND prodct_divsn TO JOIN THE TABLES MH_AD_AI_DIMENSION AND MH_RO_HDR_DETAILS TO GET DEALER NAME, DEALER ZONE AND DEALER AREA OFFICE. Allowed Values for Dealer Zone are ['South Zone', 'North Zone', 'East Zone', 'West Zone']. Translate natural language queries into SQL using the allowed values (e.g., 'Show sales in the South Zone' is like WHERE zone_name = 'South Zone').\n"
    "4. In MH_RO_HDR_DETAILS, filter: (SERV_CATGRY_DESC IN ('Free Service', 'Paid Service', 'Repair') AND service group = 'Mechanical') OR (SERV_CATGRY_DESC = 'Accessories' AND service group = 'Accessories') OR (SERV_CATGRY_DESC = 'Bodyshop' AND service group = 'Bodyshop') OR (SERV_CATGRY_DESC = 'Charging' AND service group = 'Others') OR (SERV_CATGRY_DESC IN ('En-Route', 'Pre-Sale/PDI') AND service group = 'Pre-Sale/PDI').\n"
    "5. In MH_RO_PARTS, filter where part_category_group = 'Spares' AND PART_DESC NOT LIKE '%Filter%'.\n"
    "6. For OEM Parts, filter MH_RO_PARTS where OEM Part Indicator = 'Y'.\n"
    "7. For Local Parts, filter MH_RO_PARTS where OEM Part Indicator = 'N'.\n"
    "8. For general Parts, consider both 'Y' and 'N' in OEM Part Indicator.\n"
    "9. Use Part Quantity for count metrics and partAmount for value metrics in MH_RO_PARTS.\n"
    "10. Use RO_Bill_Date for PART_NUMBR trend analysis over time.\n"
    "11. Use RO_Bill_Date for any date-range-based PART_NUMBR data retrieval.\n"
    "12. For Top Parts: GROUP BY PART_NUMBR, SELECT PART_NUMBR, PART_DESC, SUM(PART_NUMBR) as Total Count, SUM(partAmount) as Total Value, ORDER BY Total Value DESC.\n"
    "13. For Top Dealers by part consumption: Use parnt_grop, loctn_cd, and prodct_divsn as key; GROUP BY delr_name; SUM(PART_NUMBR) as Total Count, SUM(partAmount) as Total Value; ORDER BY Total Value DESC.\n"
    "14. Allowed Values for Dealer Zone are ['South Zone', 'North Zone', 'East Zone', 'West Zone']. Translate natural language queries into SQL using the allowed values. When asked for Top Zone (zone_name as Dealer Zone and area_name as Dealer Area Office) with top parts consumption, use Parent Group Code, Location Code AND prodct_divsn as unique key and do the calculation. Display zone_name as Dealer ZONE, area_name as DEALER AREA OFFICE, total sum of PART_NUMBR as Total Count and total sum of partAmount as Total Value, and display in descending order of Total Count by default.\n"
    "15. For Top Models: Use model_cd as key; GROUP BY modl_grop_desc, famly_desc; DISPLAY Dealer Name, total sum of PART_NUMBR as Total Count and total sum of partAmount as Total Value, in descending order of Total Count by default.\n"
    "16. For Top Parts within a Family or Model Group: GROUP BY PART_NUMBR; SELECT PART_NUMBR, PART_DESC, COUNT(PART_NUMBR) as Total Count, SUM(partAmount) as Total Value; FILTER by famly_desc or modl_grop_desc; ORDER BY Total Value DESC.\n"
    "17. For Top Parts within Zone, Area, Parent, and Location: GROUP BY PART_NUMBR; SELECT PART_NUMBR, PART_DESC, COUNT(PART_NUMBR), SUM(partAmount); FILTER by zone_name, area_name, parnt_grop, loctn_name, famly_desc or modl_grop_desc; ORDER BY Total Value DESC.\n"
),


'LABOUR_RUNNING_REPAIR': (
    "Apply business rules:\n"
    "1. USE sv_ro_bill_hdr_sk COLUMN TO JOIN THE TABLES MH_RO_HDR_DETAILS AND MH_RO_LABOUR.\n"
    "2. USE MODEL_CD COLUMN TO JOIN THE TABLES MH_MODEL_MASTER AND MH_RO_HDR_DETAILS TO GET MODEL_CO, MODL_GROP_DESC AND FAMILY_DESC INFORMATION.\n"
    "3. USE parnt_grop, loctn_cd AND prodct_divsn TO JOIN THE TABLES MH_AD_AI_DIMENSION AND MH_RO_HDR_DETAILS TO GET DEALER NAME, DEALER ZONE AND DEALER AREA OFFICE.\n"
    "4. Filter by: SERV_CATGRY_DESC IN ('Free Service', 'Paid Service', 'En-route', 'Repair') AND service group = 'Mechanical' OR "
    "SERV_CATGRY_DESC IN ('Bodyshop') AND service group = 'Accessories' OR "
    "SERV_CATGRY_DESC IN ('Bodyshop') AND service group = 'Bodyshop' OR "
    "SERV_CATGRY_DESC IN ('Sales & Service') AND service group = 'Accessories' OR "
    "SERV_CATGRY_DESC IN ('Bodyshop') AND service group = 'Pre-Sale/PDI'.\n"
    "5. For OEM Labour, add filter: labour_type_name = 'OEM Defined' AND exclude labour_group_name = 'Local'.\n"
    "6. For Local Labour, add filter: labour_type_name = 'Dealer Defined' AND include labour_group_name = 'Local'.\n"
    "7. For Labour, consider both 'OEM Defined' AND 'Dealer Defined' for labour_type_name.\n"
    "8. Use Labour Hrs from 'STANDRD_HRS' for count-based metrics and labour Amount from 'labrAmount' for Total Value calculations.\n"
    "9. For trend analysis, use RO_Bill_Date to analyze Labour Code over time.\n"
    "10. When asked for highest or top Labour, group by Labour Code, return Labour Code, Labour Desc, total 'STANDRD_HRS' and display in descending order.\n"
    "11. When asked for top Dealers with highest Labour consumption, use Parent Group Code, Location Code AND prodct_divsn as unique key and do the calculation. Display Dealer Name and total of 'STANDRD_HRS' as value in descending order.\n"
    "12. When asked for highest or top Labour Zone (Dealer Zone) and Area Office (Dealer AREA Office) with top Labour consumption, use Parent Group Code, Location Code AND prodct_divsn as unique key and do the calculation. Display Dealer ZONE, DEALER AREA OFFICE and total of 'STANDRD_HRS' as value in descending order.\n"
    "13. When asked for top or highest Model (MODEL_GROUP AND FAMILY_DESC) with top or highest Labour consumption, use model_cd as unique key and do the calculation. Add MODL_GROUP_DESC AND FAMILY_DESC in the display. Display Dealer Name and total of 'STANDRD_HRS' as value in descending order.\n"
),


'PARTS_CODE_CONSUMPTION': (
    "1. USE sv_ro_bill_hdr_sk COLUMN TO JOIN THE TABLES MH_RO_HDR_DETAILS AND MH_RO_PARTS.\n"
    "2. USE MODEL_CD COLUMN TO JOIN THE TABLES MH_MODEL_MASTER AND MH_RO_HDR_DETAILS TO GET MODEL_CO, MODL_GROP_DESC AND FAMILY_DESC INFORMATION.\n"
    "3. USE parnt_grop, loctn_cd AND prodct_divsn TO JOIN THE TABLES MH_AD_AI_DIMENSION AND MH_RO_HDR_DETAILS TO GET DEALER NAME, DEALER ZONE AND DEALER AREA OFFICE.\n"
    "4. For OEM Parts, add filter: OEM Part Indicator = 'Y'.\n"
    "5. For Local Parts, add filter: OEM Part Indicator = 'N'.\n"
    "6. For Parts, consider both 'Y' AND 'N' for OEM Part Indicator.\n"
    "7. Use Part Quantity for count-based metrics and 'partAmount' as part basic amount for total value calculations.\n"
    "8. For trend analysis, use RO_Bill_Date to analyze PART_NUMBR over time.\n"
    "9. When asked for Top Parts, group by PART_NUMBR, return PART_NUMBR, PART_DESC, total count and display in descending order.\n"
    "10. When asked for Top Dealers with top parts consumption, use Parent Group Code, Location Code AND prodct_divsn as unique key and do the calculation. Display Dealer Name and value.\n"
    "11. When asked for Top Zone (Dealer Zone) and Area Office (Dealer AREA Office) with top parts consumption, use Parent Group Code, Location Code AND prodct_divsn as unique key and do the calculation. Display Dealer ZONE, DEALER AREA OFFICE and value.\n"
    "12. When asked for Top Model (MODEL_GROUP AND FAMILY_DESC) with top parts consumption, use model_cd as unique key and do the calculation. Add MODL_GROUP_DESC AND FAMILY_DESC in the display. Display Dealer Name and value.\n"
    "13. When asked for Top Parts, group by PART_NUMBR, return PART_NUMBR, PART_DESC, total count and display in month-on-month format.\n"
    "14. When asked for Top Parts, group by PART_NUMBR, return PART_NUMBR, PART_DESC, total count and display in quarter-on-quarter format.\n"
    "15. When asked for Top Parts, group by PART_NUMBR, return PART_NUMBR, PART_DESC, total count and display in year-on-year format."
),

'LABOUR_CODE_CONSUMPTION': (
    "Apply business rules:\n"
    "1. USE sv_ro_bill_hdr_sk COLUMN TO JOIN THE TABLES MH_RO_HDR_DETAILS AND MH_RO_LABOUR.\n"
    "2. USE MODEL_CD COLUMN TO JOIN THE TABLES MH_MODEL_MASTER AND MH_RO_HDR_DETAILS TO GET MODEL_CO, MODL_GROP_DESC AND FAMILY_DESC INFORMATION.\n"
    "3. USE parnt_grop, loctn_cd AND prodct_divsn TO JOIN THE TABLES MH_AD_AI_DIMENSION AND MH_RO_HDR_DETAILS TO GET DEALER NAME, DEALER ZONE AND DEALER AREA OFFICE.\n"
    "4. For OEM Labour, add filter: labour_type_name = 'OEM Defined' and exclude labour_group_name = 'Local'.\n"
    "5. For Local Labour, add filter: labour_type_name = 'Dealer Defined' and include labour_group_name = 'Local'.\n"
    "6. For Labour, consider both 'OEM Defined' and 'Dealer Defined' for labour_type_name.\n"
    "7. Use Labour Hrs from 'STANDRD_HRS' for count-based metrics and labour amount from 'labrAmount' for total value calculations.\n"
    "8. For trend analysis, use RO_Bill_Date to analyze Labour Code over time.\n"
    "9. When asked for highest or top Labour, group by Labour Code. Return Labour Code, Labour Desc, total 'STANDRD_HRS' in descending order.\n"
    "10. When asked for top Dealers with highest Labour consumption, use Parent Group Code, Location Code AND prodct_divsn as unique key. Display Dealer Name and total of 'STANDRD_HRS' as value in descending order.\n"
    "11. When asked for top Labour Zone (Dealer Zone) and Area Office (Dealer AREA Office) with highest Labour consumption, use Parent Group Code, Location Code AND prodct_divsn as unique key. Display Dealer ZONE, DEALER AREA OFFICE and total of 'STANDRD_HRS' as value in descending order.\n"
    "12. When asked for top Model (MODEL_GROUP and FAMILY_DESC) with highest Labour consumption, use model_cd as unique key. Add MODL_GROUP_DESC and FAMILY_DESC in the display. Display Dealer Name and total of 'STANDRD_HRS' as value in descending order.\n"
    "13. When asked for top Labour, group by Labour Code. Return Labour Code, Labour Desc, total 'STANDRD_HRS' and display in month-on-month format.\n"
    "14. When asked for top Labour, group by Labour Code. Return Labour Code, Labour Desc, total 'STANDRD_HRS' and display in quarter-on-quarter format.\n"
    "15. When asked for top Labour, group by Labour Code. Return Labour Code, Labour Desc, total 'STANDRD_HRS' and display in year-on-year format."
),





"WORD_CLOUD_VOC": (
     "Apply business rules:\n"
    "1. If the user requests a word cloud, e.g., for a given MODEL_GROP, then return a query instruction that includes the following:\n"
    "   - Filters: on the specified MODEL_GROP and any date range provided.\n"
    "   - Columns to include:\n"
    "     - Model_Grop\n"
    "     - verbatim_group\n"
    "     - verbatim_code\n"
    "     - cust_verbtm_desc\n"
    "     - verbatim_group_desc\n"
    "     - demanded_verbatim\n"
    "   - Include a frequency count based on verbatim_code, using GROUP BY verbatim_code.\n"
    "   - Exclude demanded_verbatim having words like:\n"
    "     '%SCHEDULE%', '%WASHING%','%WASHING & CLEANING%', '%MAXICARE%', '%WHEEL ALIGNMENT%', '%WHEEL BALANCE%', '%SERVICE ACTION%', '%10000%', '%1000%', '%5000%', '%KM%'.\n"
    "  - Use chained NOT LIKE conditions joined with AND to filter out generic or low-signal entries in demanded_verbatim. This ensures accurate exclusion of phrases like 'washing', 'schedule', 'maxicare', 'km', etc.\n"

    "2. Use 'sv_ro_hdr_sk' to join MH_RO_HDR_DETAILS and MH_CUST_VERBATIM.\n"
    "3. USE parnt_grop, loctn_cd AND prodct_divsn TO JOIN THE TABLES MH_AD_AI_DIMENSION AND MH_RO_HDR_DETAILS TO GET DEALER NAME, DEALER ZONE AND DEALER AREA OFFICE. Allowed Values for Dealer Zone are [ \"South Zone\", \"North Zone\", \"East Zone\", \"West Zone\"] . Translate natural language queries into SQL using the allowed values (e.g., \"Show sales in the South Zone\" is like WHERE zone_name = 'South Zone') \n"
    "4. Use 'parnt_grop', 'loctn_cd', and 'prodct_divsn' to join MH_AD_AI_DIMENSION and MH_RO_HDR_DETAILS to get Dealer Name, Dealer Zone, and Dealer Area Office; allowed Dealer Zone values are ['South Zone', 'North Zone', 'East Zone', 'West Zone']; translate queries like 'Show sales in the South Zone' to WHERE zone_name = 'South Zone'.\n"
    "5. Use 'demanded_verbatim' as the text input for Word Cloud generation.\n"
    "6. Exclude 'demanded_verbatim' values containing keywords like '%SCHEDULE%', '%WASHING%', '%MAXICARE%', '%WHEEL ALIGNMENT%', '%WHEEL BALANCE%', '%SERVICE ACTION%', '%10000%', '%1000%', '%5000%', '%KM%'.\n"
    "7. Use 'part_code' for part quantity count and 'partAmount' for part value calculations.\n"
    "8. Use 'STANDRD_HRS' for labour hours and 'labrAmount' for labour cost calculations.\n"
    "9. In the table 'MH_RO_HDR_DETAILS', filter by:\n"
    "   - (SERV_CATGRY_DESC IN ('Free Service', 'Paid Service',   'Repair') AND service group = 'Mechanical') OR\n"
    "   - (SERV_CATGRY_DESC IN ('Accessories') AND service group = 'Accessories') OR\n"
    "   - (SERV_CATGRY_DESC IN ('Bodyshop') AND service group = 'Bodyshop') OR\n"
    "   - (SERV_CATGRY_DESC IN ('Charging') AND service group = 'Others') OR\n"
    "   - (SERV_CATGRY_DESC IN ('En-Route','Pre-Sale/PDI') AND service group = 'Pre-Sale/PDI').\n\n"
    "10. In the table 'MH_RO_HDR_DETAILS', apply filter: (SERV_CATGRY_DESC IN ('Free Service', 'Paid Service', 'Repair') AND service group = 'Mechanical') OR (SERV_CATGRY_DESC = 'Accessories' AND service group = 'Accessories') OR (SERV_CATGRY_DESC = 'Bodyshop' AND service group = 'Bodyshop') OR (SERV_CATGRY_DESC = 'Charging' AND service group = 'Others') OR (SERV_CATGRY_DESC IN ('En-Route', 'Pre-Sale/PDI') AND service group = 'Pre-Sale/PDI')."
    "11. Allowed Values for Dealer Zone are [ \"South Zone\", \"North Zone\", \"East Zone\", \"West Zone\"] .Translate natural language queries into SQL using the allowed values (e.g., \"Show sales in the South Zone\" is like WHERE zone_name = 'South Zone').When asked for top Zone (zone_name AS Dealer Zone and area_name AS  Dealer AREA Office) for Word Cloud, use Parent Group Code, Location Code AND prodct_divsn as unique key. Display zone_name AS Dealer Zone, area_name AS  Dealer AREA Office and 'demanded_verbatim' as value for Word Cloud in descending order.Translate natural language queries into SQL using the allowed values (e.g., \"Show sales in the South Zone\" is like WHERE zone_name = 'SouthÂ Zone').\n"
    "12. For top zones: group by 'parnt_grop', 'loctn_cd', 'prodct_divsn', show 'zone_name' as Dealer Zone and 'area_name' as Dealer Area Office, use 'demanded_verbatim' as Word Cloud value, ordered by frequency descending, and translate zone filters accordingly.\n"
    "13. For top models: use 'model_cd' as key, show 'modl_grop_desc' as Model Group Description, 'famly_desc' as FAMILY_DESC, 'delr_name' as Dealer Name, and 'demanded_verbatim' as Word Cloud value, ordered by frequency descending.\n"
    "14. Include columns in Word Cloud query: Model_Grop, verbatim_group, verbatim_code, cust_verbtm_desc, verbatim_group_desc, demanded_verbatim.\n"
    "15. Group by 'verbatim_code' to calculate frequency count for Word Cloud.\n"
),
'COUNT_OF_REPEAT_REPAIRS': (
    "Apply business rules:\n"

    "1. USE MODEL_CD COLUMN TO JOIN THE TABLES MH_MODEL_MASTER AND MH_RO_HDR_DETAILS TO GET MODEL_CO, MODL_GROP_DESC AND FAMILY_DESC INFORMATION.\n"
    "2. USE parnt_grop, loctn_cd AND prodct_divsn TO JOIN THE TABLES MH_AD_AI_DIMENSION AND MH_RO_HDR_DETAILS TO GET DEALER NAME, DEALER ZONE AND DEALER AREA OFFICE.\n"
    "3. USE 'sv_ro_hdr_sk' COLUMN TO JOIN THE TABLES MH_RO_HDR_DETAILS AND MH_CUST_VERBATIM.\n"
    "4. USE 'sv_ro_bill_hdr_sk' COLUMN TO JOIN THE TABLES MH_RO_HDR_DETAILS AND MH_RO_PARTS.\n"
    "5. USE 'sv_ro_bill_hdr_sk' COLUMN TO JOIN THE TABLES MH_RO_HDR_DETAILS AND MH_RO_LABOUR.\n"
    "6. For 'Count of Repeat Repairs', use commonly sounding Customer VoC 'demanded_verbatim' or same part 'part_code' or same labour 'LABR_CD'.\n"
    "7. Exclude 'demanded_verbatim' having words like '%SCHEDULE%', '%WASHING%', '%MAXICARE%', '%WHEEL ALIGNMENT%', '%WHEEL BALANCE%', "
    "'%WASHING AND CLEANING%', '%PICKUP%', '%DROP OFF%', '%1000, 10000%' for Count of Repeat Repairs.\n"
    "8. For trend analysis, use RO_Bill_Date to analyze 'Customer Verbatim Codes' for 'Count of Repeat Repairs'.\n"
    "9. When asked for Top Dealers for Word Cloud, use Parent Group Code, Location Code AND prodct_divsn as unique key and do the calculation. "
    "Display Dealer Name and 'demanded_verbatim' as value for 'Count of Repeat Repairs' in descending order.\n"
    "10. When asked for Top Zone (Dealer Zone) and Area Office (Dealer AREA Office) for Word Cloud, use Parent Group Code, Location Code AND prodct_divsn as unique key and do the calculation. "
    "Display Dealer ZONE, DEALER AREA OFFICE and 'demanded_verbatim' as value for 'Count of Repeat Repairs' in descending order.\n"
    "11. When asked for Top Model (MODEL_GROUP and FAMILY_DESC) for Word Cloud, use model_cd as unique key and do the calculation. "
    "Add MODL_GROUP_DESC and FAMILY_DESC in the display. Show Dealer Name and 'demanded_verbatim' as value for 'Count of Repeat Repairs' in descending order."
)

}